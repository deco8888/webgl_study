!function(){"use strict";function e(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return n[r].call(i.exports,i,i.exports,e),i.exports}var n={3948:function(e,n,t){function r(e,n){for(var t,r=0;r<n.length;r++)(t=n[r]).enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}t(1939),t(1382),t(5825),t(7170),t(8857),t(8329),t(6279),t(427),t(1159),t(2516),t(4349),t(5273),t(6729),t(1801),t(574),t(5787),t(9271),t(3160),t(5688),t(3157),t(3333),t(315),t(8314),t(556),t(9224),t(8188),t(5735),t(2994),t(4074),t(3439);var o=t(6139),i=function(){function e(){(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),this.canvas=null,this.gl=null,this.currentProgram=null}return function(e,n,t){n&&r(e.prototype,n),t&&r(e,t)}(e,[{key:"width",get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:"height",get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}},{key:"program",get:function(){return this.currentProgram},set:function(e){this.gl.useProgram(e),this.currentProgram=e}},{key:"initialize",value:function(e){if(this.canvas=e,this.gl=this.canvas.getContext("webgl"),null==this.gl)throw new Error("webgl not supported")}},{key:"createShaderObject",value:function(e,n){var t=this.gl,r=t.createShader(n);if(t.shaderSource(r,e),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))return r;throw new Error(t.getShaderInfoLog(r))}},{key:"createProgramObject",value:function(e,n){var t=this.gl,r=t.createProgram();if(t.attachShader(r,e),t.attachShader(r,n),t.linkProgram(r),t.deleteShader(e),t.deleteShader(n),t.getProgramParameter(r,t.LINK_STATUS))return t.useProgram(r),r;throw new Error(t.getProgramInfoLog(r))}},{key:"createVBO",value:function(e){var n=this.gl,t=n.createBuffer();return n.bindBuffer(n.ARRAY_BUFFER,t),n.bufferData(n.ARRAY_BUFFER,new Float32Array(e),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),t}},{key:"createIBO",value:function(e){var n=this.gl,t=n.createBuffer();return n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Int16Array(e),n.STATIC_DRAW),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null),t}},{key:"enableAttribute",value:function(e,n,t){var r=this.gl;e.forEach((function(e,o){r.bindBuffer(r.ARRAY_BUFFER,e),r.enableVertexAttribArray(n[o]),r.vertexAttribPointer(n[o],t[o],r.FLOAT,!1,0,0)}))}}],[{key:"loadFile",value:function(e){return new o((function(n,t){fetch(e).then((function(e){return e.text()})).then((function(e){n(e)})).catch((function(e){t(e)}))}))}}]),e}();!function(){function e(){n(),c=[d.createVBO(a),d.createVBO(u)],f=d.createIBO(l)}function n(){for(var e=Math.PI,n=360/g,t=0;360>t;t+=n){var r=Math.sin(t*(e/180))*v,o=Math.cos(t*(e/180))*v;a.push(r,o,0),0<r?u.push(.4*(o+1),r,0,.7):u.push(.4*(o+1),0,Math.abs(r),.7);var i=t/n;0==i%2?l.push(i+1,i+2,0):l.push(0,i+1,i+2)}}function t(){var e=d.gl,n=[e.getAttribLocation(d.program,"position"),e.getAttribLocation(d.program,"color")];d.enableAttribute(c,n,[3,4]),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,f),h={mouse:e.getUniformLocation(d.program,"mouse"),rotation:e.getUniformLocation(d.program,"rotation")}}function r(){var e=Math.min(window.innerWidth,window.innerHeight);d.width=e,d.height=e}function o(){var n=d.gl;requestAnimationFrame(o),e(),t(),function(){var e=d.gl;e.viewport(0,0,d.width,d.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)}(),n.uniform2fv(h.mouse,s),n.drawElements(n.TRIANGLES,l.length,n.UNSIGNED_SHORT,0)}var a=[],u=[],c=null,l=[],f=null,h=null,s=[0,0],g=5,v=.7,d=new i;window.addEventListener("DOMContentLoaded",(function(){var i=document.getElementById("webgl-canvas");d.initialize(i),r(),window.addEventListener("resize",(function(){r(),o()}),!1),window.addEventListener("mousemove",(function(e){s[0]=e.clientX/window.innerWidth,s[1]=e.clientY/window.innerHeight}),!1),document.querySelectorAll("[data-toggle]").forEach((function(e){console.log(e.getAttribute("data-toggle")),e.addEventListener("click",(function(){a=[],u=[];var t=e.getAttribute("data-toggle");"up"===t?g+=1:"down"===t&&2<g-1&&(g-=1),n()}),!1)}));var c,l;c=d.createShaderObject("#define GLSLIFY 1\nattribute vec3 position;\nattribute vec4 color;\n\nuniform vec2 mouse;\nuniform vec2 rotation;\n\nvarying vec4 vColor;\n\nvoid main(){\n    // varying 変数は、頂点カラーにマウスの影響を与えてから送る\n    \n    vColor = color - vec4(mouse[0] * 0.2, mouse[1] * 0.2, mouse[0] * 0.2, 0.0);\n    gl_Position = vec4(position, 1.0);\n}\n\n",d.gl.VERTEX_SHADER),l=d.createShaderObject("precision mediump float;\n#define GLSLIFY 1\nvarying vec4 vColor;\n\nvoid main(){\n    // varying 変数で受け取った色をそのまま出力\n    gl_FragColor = vColor;\n}\n\n",d.gl.FRAGMENT_SHADER),d.program=d.createProgramObject(c,l),e(),t(),o()}),!1)}()}},t={};e.m=n,function(){var n=[];e.O=function(t,r,o,i){if(!r){var a=1/0;for(l=0;l<n.length;l++){r=n[l][0],o=n[l][1],i=n[l][2];for(var u=!0,c=0;c<r.length;c++)(!1&i||a>=i)&&Object.keys(e.O).every((function(n){return e.O[n](r[c])}))?r.splice(c--,1):(u=!1,i<a&&(a=i));u&&(n.splice(l--,1),t=o())}return t}i=i||0;for(var l=n.length;0<l&&n[l-1][2]>i;l--)n[l]=n[l-1];n[l]=[r,o,i]}}(),e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){var n={100:0};e.O.j=function(e){return 0===n[e]};var t=function(t,r){var o,i,a=r[0],u=r[1],c=r[2],l=0;for(o in u)e.o(u,o)&&(e.m[o]=u[o]);for(c&&c(e),t&&t(r);l<a.length;l++)i=a[l],e.o(n,i)&&n[i]&&n[i][0](),n[a[l]]=0;e.O()},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=e.O(void 0,[736],(function(){return e(3948)}));r=e.O(r)}();